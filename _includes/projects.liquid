<div class="projects">
  {% assign filtered_projects = site.projects | where: "lang", page.lang %}

  {% if filtered_projects != blank %}
    {% assign projects_size = filtered_projects | size %}

    {% if include.limit %}
      {% assign projects_limit = include.limit %}
    {% else %}
      {% assign projects_limit = projects_size %}
    {% endif %}

    {% assign projects = filtered_projects | sort: "date" | reverse %}

    <div class="grid">
      <div class="grid-sizer"></div>

      {% for project in projects limit: projects_limit %}
        <div class="grid-item">
          <a href="{% if project.redirect %}{{ project.redirect }}{% else %}{{ project.url | relative_url }}{% endif %}">
            <div class="card hoverable">
              {% if project.img %}
                {%
                  include figure.liquid
                  loading="eager"
                  path=project.img
                  sizes="250px"
                  alt="project thumbnail"
                %}
              {% endif %}

              <div class="card-body">
                <h2 class="card-title text-lowercase">{{ project.title }}</h2>
                <p class="card-text">{{ project.description }}</p>

                <div class="row ml-1 mr-1 p-0">
                  {% if project.github %}
                    <div class="github-icon">
                      <div class="icon" data-toggle="tooltip" title="Code Repository">
                        <a href="{{ project.github }}">
                          <i class="fa-brands fa-github gh-icon"></i>
                        </a>
                      </div>

                      {% if project.github_stars %}
                        <span class="stars" data-toggle="tooltip" title="GitHub Stars">
                          <i class="fa-solid fa-star"></i>
                          <span id="{{ project.github_stars }}-stars"></span>
                        </span>
                      {% endif %}
                    </div>
                  {% endif %}
                </div>

              </div>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>

  {% else %}
    <p>No projects so far...</p>
  {% endif %}
</div>
